!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var i=n(1);window.customElements.define("emails-input",i.EmailsInput);var r=document.querySelector("emails-input");document.getElementById("add-email").onclick=function(){r.dispatchEvent(new Event("add"))},document.getElementById("emails-count").onclick=function(){r.dispatchEvent(new Event("count"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmailsInput=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=n(3),a=u(n(4)),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var l=13,d=188;t.EmailsInput=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.attachTemplate(a.default,s.default),e.bindPropertiesToAttributes(["items"]),e.previosKeyCodeValid=!0,e._items=[],e.addShadowEventListener(".emails-input__item-cross","click",e.handleClickCrossEvent),e.addShadowEventListener(".emails-input__add-more-input","keyup",e.handleAddItemEvent),e.addShadowEventListener(".emails-input__add-more-input","focusout",e.handleAddItemEvent),e.addLightEventListener("emails-input","count",function(){alert("Valid emails count: "+e.getValidEmailsCount())}),e.addLightEventListener("emails-input","add",function(){e.addNewEmail()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,null,[{key:"getValidClassname",value:function(e){return o.EMAIL_RE.test(e)?"emails-input__item--valid":"emails-input__item--invalid"}}]),i(t,[{key:"attributeChangedCallback",value:function(e,t,n){var i=this;"items"===e&&(this._items=[],n&&n.split(",").forEach(function(e){i._items.push({id:i.generateId(),label:e})}),this.renderEmailsList())}},{key:"connectedCallback",value:function(){this.renderEmailsList()}},{key:"disconnectedCallback",value:function(){this.removeShadowEventListeners(),this.removeLightEventListeners()}},{key:"getValidEmailsCount",value:function(){return this._items.filter(function(e){return o.EMAIL_RE.test(e.label)}).length}},{key:"generateId",value:function(){var e=Math.floor(999*Math.random())+1;return this._items.map(function(e){return e.id}).includes(e)&&this.generateId(),e}},{key:"addNewEmail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.generateEmail)();e&&(this._items.push({id:this.generateId(),label:e}),this.setAttribute("items",this._items.map(function(e){return e.label}).toString()),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{value:e,text:"New email "+e+" was added."}})))}},{key:"handleAddItemEvent",value:function(e){e.preventDefault();var t=this.shadowRoot.getElementById("add-more-input").value;e.keyCode===l&&(this.previosKeyCodeValid=!0,this.addNewEmail(t)),e.keyCode===d&&","===e.key&&(this.previosKeyCodeValid=!0,t=t.substring(0,t.length-1),this.addNewEmail(t)),"focusout"===e.type&&t&&!this.previosKeyCodeValid&&this.addNewEmail(t),this.previosKeyCodeValid=!1}},{key:"handleClickCrossEvent",value:function(e,t){var n=t.parentElement.getAttribute("data-value");this.removeEmail(n)}},{key:"removeEmail",value:function(e){var t=this._items.find(function(t){return t.id===Number(e)}).label;this._items=this._items.filter(function(t){return t.id!==Number(e)}),this.setAttribute("items",this._items.map(function(e){return e.label}).toString()),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{email:t,text:"Email "+t+" was removed."}}))}},{key:"renderEmptyList",value:function(){for(;this.emailsList.hasChildNodes();)this.emailsList.removeChild(this.emailsList.lastChild)}},{key:"renderEmailsList",value:function(){var e=this;this.renderEmptyList(),this._items.forEach(function(n){var i=document.createElement("div");i.className="emails-input__item-text",i.innerText=n.label;var r=document.createElement("span");r.innerHTML="<span>&times;</span>",r.className="emails-input__item-cross";var o=document.createElement("div");o.setAttribute("data-value",n.id),o.classList.add("emails-input__item",t.getValidClassname(n.label)),o.appendChild(i),o.appendChild(r),e.emailsList.appendChild(o)});var n=document.createElement("input");n.id="add-more-input",n.placeholder="add more peopleâ€¦",n.className="emails-input__add-more-input",this.emailsList.appendChild(n),this.shadowRoot.getElementById("add-more-input").focus()}},{key:"emailsList",get:function(){return this.shadowRoot.getElementById("items")}},{key:"items",set:function(e){this._items=e},get:function(){return this._items}}],[{key:"observedAttributes",get:function(){return["items"]}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.Component=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.eventListeners=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,HTMLElement),i(t,[{key:"attachTemplate",value:function(e,t){t=t?"<style>"+t+"</style>":"",this.attachShadow({mode:"open"}).innerHTML=t+e}},{key:"_addEventListener",value:function(e,t,n,i){var r=this,o=i?this.shadowRoot:this,a={type:t,handler:function(t){var i=t.target.closest(e);i&&o.contains(i)&&(n=n.bind(r))(t,i)},isShadowRoot:i};this.eventListeners.push(a),o.addEventListener(a.type,a.handler)}},{key:"_removeEventListeners",value:function(e){var t=e?this.shadowRoot:this;this.eventListeners.filter(function(t){return t.isShadowRoot===e}).map(function(e){return t.removeEventListener(e.type,e.handler)})}},{key:"addLightEventListener",value:function(e,t,n){this._addEventListener(e,t,n,!1)}},{key:"removeLightEventListeners",value:function(){this._removeEventListeners(!1)}},{key:"addShadowEventListener",value:function(e,t,n){this._addEventListener(e,t,n,!0)}},{key:"removeShadowEventListeners",value:function(){this._removeEventListeners(!0)}},{key:"bindPropertiesToAttributes",value:function(e){var n=this;e.map(function(e){var i=t.convertCamelCaseToKebab(e);Object.defineProperty(n,e,{get:function(){var e=n.getAttribute(i);return e===String(Number(e))?+e:e},set:function(e){return e?n.setAttribute(i,e):n.removeAttribute(i)}})})}}],[{key:"convertCamelCaseToKebab",value:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateEmail=function(){return"abcdefghijklmnopqrstuvwxyz"[Math.floor(26*Math.random())]+Math.random().toString(36).substring(1,4)+"@miro.com"};t.EMAIL_RE=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},function(e,t){e.exports="<div id=items class=emails-input__container></div>"},function(e,t,n){var i=n(6);e.exports="string"==typeof i?i:i.toString()},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,".emails-input__container{background:#fff;border:1px solid #c3c2cf;box-sizing:border-box;border-radius:4px;height:96px;flex-shrink:1;display:flex;align-content:flex-start;flex-wrap:wrap;padding:8px 7px;overflow:scroll}.emails-input__add-more-input{font-style:normal;font-weight:400;font-size:14px;color:#050038;line-height:24px;margin-right:8px;height:24px;margin-bottom:4px;border:0 none;width:124px}.emails-input__add-more-input:focus{outline:0 none}.emails-input__add-more-input::placeholder{color:#c3c2cf}.emails-input__item{font-style:normal;font-weight:400;font-size:14px;line-height:24px;color:#050038;height:24px;max-width:220px;overflow:hidden;padding-right:16px;position:relative;box-sizing:border-box;margin-right:8px;margin-bottom:4px}.emails-input__item--valid{padding-left:10px;background:rgba(102,153,255,.2);border-radius:100px}.emails-input__item--invalid{border-bottom:1px dashed #d92929}.emails-input__item-text{overflow:hidden}.emails-input__item-cross{color:#050038;cursor:pointer;transition:.3s;position:absolute;right:4px;top:0}.emails-input__item-cross:hover{color:#05004a}",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}}]);